<xc-master-detail
  [xc-master-detail-opened]="detailsObject"
  xc-i18n-context="fman.xyna-properties"
  >
  <xc-panel master>
    <header>
      <h1 class="items-left" xc-i18n>header</h1>
      <div class="items-right">
        <xc-button (click)="clearFilters()" xc-i18n>clear-filters-button</xc-button>
        <xc-icon-button (click)="refresh()" xc-tooltip="refresh-icon" xc-i18n class="refresh" xc-icon-name="reload"></xc-icon-button>
        <xc-icon-button (click)="add()" xc-tooltip="add-icon" xc-i18n class="add" xc-icon-name="add"></xc-icon-button>
      </div>
    </header>
    <section class="stretch scroll">
      <xc-table
        [xc-table-datasource]="remoteTableDataSource"
        xc-table-allowsort
        xc-table-allowfilter
        xc-table-allowselect
        class="xyna-properties-table"
      ></xc-table>
    </section>
    <footer></footer>
  </xc-panel>
  @if (detailsObject) {
    <xc-panel detail>
      <header>
        <h2 class="items-left" xc-i18n>header-details</h2>
        <xc-icon-button class="items-right" (click)="dismiss()" xc-icon-name="close" xc-tooltip="cancel-tooltip" xc-i18n></xc-icon-button>
      </header>
      <section class="stretch scroll">
        <xc-form-input label="key-input" [(value)]="detailsObject.key" readonly xc-i18n></xc-form-input>
        <xc-form-textarea label="value-input" [(value)]="detailsObject.value" xc-i18n></xc-form-textarea>
        @if (detailsObject.defaultValue) {
          <xc-button (click)="reset()" xc-i18n>reset-to-default-button</xc-button>
        }
        @if (detailsObject.defaultValue) {
          <xc-form-textarea label="default-value-textarea" [(value)]="detailsObject.defaultValue" readonly xc-i18n></xc-form-textarea>
        }
        <xc-form-textarea [label]="documentationLabel" [(value)]="documentation" xc-form-textarea-lines="12"></xc-form-textarea>
      </section>
      <footer class='items-row'>
        <div class="items-left"><xc-button (click)="dismiss()" xc-i18n>cancel-button</xc-button></div>
        <div class="items-right"><xc-button (click)="save()" color="primary" xc-i18n>save-button</xc-button></div>
      </footer>
    </xc-panel>
  }
</xc-master-detail>